Index: app/src/main/java/org/ehsan/travelexpertsoosd/CreditCardActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.ehsan.travelexpertsoosd;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.VolleyLog;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.google.android.material.appbar.CollapsingToolbarLayout;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.concurrent.Executors;\r\n\r\nimport Model.CreditCard;\r\nimport Model.Customer;\r\n\r\npublic class CreditCardActivity extends AppCompatActivity {\r\n    TextView tvPrice;\r\n    EditText etCardNumber, etCardName, etExpiry, etCode, etFirstName,\r\n        etLastName, etAddress1, etAddress2, etPostal, etCity, etCountry, etPhone;\r\n    Button btnPayment;\r\n    RequestQueue requestQueue;\r\n    Customer customer;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_credit_card);\r\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        CollapsingToolbarLayout toolBarLayout = (CollapsingToolbarLayout) findViewById(R.id.toolbar_layout);\r\n        toolBarLayout.setTitle(\"Credit Card\");\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n\r\n        requestQueue = Volley.newRequestQueue(this);\r\n\r\n        tvPrice = findViewById(R.id.tvPrice);\r\n        etCardNumber = findViewById(R.id.etCardNumber);\r\n        etCardName = findViewById(R.id.etCardName);\r\n        etExpiry = findViewById(R.id.etExpiry);\r\n        etCode = findViewById(R.id.etCode);\r\n        etFirstName = findViewById(R.id.etFirstName);\r\n        etLastName = findViewById(R.id.etLastName);\r\n        etAddress1 = findViewById(R.id.etAdress1);\r\n        etAddress2 = findViewById(R.id.etAdress2);\r\n        etPostal = findViewById(R.id.etPostal);\r\n        etCity = findViewById(R.id.etCity);\r\n        etCountry = findViewById(R.id.etCountry);\r\n        btnPayment = findViewById(R.id.btnPayment);\r\n        etPhone = findViewById(R.id.etPhone);\r\n\r\n        int Price = 500;\r\n        customer = new Customer(1, \"Ehsan\",\"Novin\",\"102 Wakanda\"\r\n        ,\"Calgary\",\"AB\",\"T2T-1Z0\",\"Country\",\"40311123332\"\r\n        ,\"40311332211\",\"enovin@test.com\",100,\"password\");\r\n\r\n        Executors.newSingleThreadExecutor().execute(new GetCredit());\r\n\r\n        tvPrice.setText(\"$\" + Price);\r\n        etFirstName.setText(customer.getCustFirstName());\r\n        etLastName.setText(customer.getCustLastName());\r\n        etAddress1.setText(customer.getCustAddress());\r\n        etPostal.setText(customer.getCustPostal());\r\n        etCity.setText(customer.getCustCity());\r\n        etCountry.setText(customer.getCustCountry());\r\n        etPhone.setText(customer.getCustBusPhone());\r\n\r\n\r\n    }\r\n\r\n    class GetCredit implements Runnable {\r\n        @Override\r\n        public void run() {\r\n\r\n            StringBuffer buffer = new StringBuffer();\r\n            String url = \"http://192.168.0.12:8081/JSPDay4JPA2/rs/agent/getcc/123\";\r\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {\r\n                @Override\r\n                public void onResponse(String response) {\r\n                    VolleyLog.wtf(response,\"utf-8\");\r\n\r\n                    try{\r\n\r\n                        JSONArray jsonArray = new JSONArray(response);\r\n                        JSONObject object = jsonArray.getJSONObject(0);\r\n                        CreditCard cc = new CreditCard(object.getInt(\"creditCardId\"),\r\n                                object.getString(\"CCName\"), object.getString(\"CCNumber\"),\r\n                                object.getString(\"CCExpiry\"),object.getInt(\"customerId\"));\r\n\r\n                        etCardName.setText(customer.getCustFirstName() + \" \" + customer.getCustLastName());\r\n                        etCardNumber.setText(cc.getCcNumber());\r\n                        etExpiry.setText(cc.getCcExpiry());\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    VolleyLog.wtf(error.getMessage(), \"utf-8\");\r\n                }\r\n            });\r\n\r\n            requestQueue.add(stringRequest);\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/org/ehsan/travelexpertsoosd/CreditCardActivity.java	(revision 91470f0831bf688827eca9478492a54824c992f2)
+++ app/src/main/java/org/ehsan/travelexpertsoosd/CreditCardActivity.java	(date 1603958957198)
@@ -1,5 +1,7 @@
 package org.ehsan.travelexpertsoosd;
 
+import android.content.Intent;
+import android.content.SharedPreferences;
 import android.os.Bundle;
 
 import com.android.volley.Request;
@@ -13,6 +15,9 @@
 
 import androidx.appcompat.app.AppCompatActivity;
 import androidx.appcompat.widget.Toolbar;
+
+import android.util.Log;
+import android.view.View;
 import android.widget.Button;
 import android.widget.EditText;
 import android.widget.TextView;
@@ -33,7 +38,9 @@
     Button btnPayment;
     RequestQueue requestQueue;
     Customer customer;
-
+    SharedPreferences pref;
+    int id;
+    double price;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
@@ -44,9 +51,14 @@
         CollapsingToolbarLayout toolBarLayout = (CollapsingToolbarLayout) findViewById(R.id.toolbar_layout);
         toolBarLayout.setTitle("Credit Card");
         getSupportActionBar().setDisplayHomeAsUpEnabled(true);
-        getSupportActionBar().setDisplayShowHomeEnabled(true);
+
+        Intent intent = getIntent();
+        price = intent.getDoubleExtra("Total",0);
 
         requestQueue = Volley.newRequestQueue(this);
+        pref = getSharedPreferences("user_details",MODE_PRIVATE);
+
+        id = pref.getInt("id", 1);
 
         tvPrice = findViewById(R.id.tvPrice);
         etCardNumber = findViewById(R.id.etCardNumber);
@@ -63,32 +75,74 @@
         btnPayment = findViewById(R.id.btnPayment);
         etPhone = findViewById(R.id.etPhone);
 
-        int Price = 500;
-        customer = new Customer(1, "Ehsan","Novin","102 Wakanda"
-        ,"Calgary","AB","T2T-1Z0","Country","40311123332"
-        ,"40311332211","enovin@test.com",100,"password");
+        Executors.newSingleThreadExecutor().execute(new GetCustomer());
+
+//        Executors.newSingleThreadExecutor().execute(new GetCredit());
+
+        tvPrice.setText("$" + price);
+
+        //Needs to be done tomorrow
+        btnPayment.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+            }
+        });
 
-        Executors.newSingleThreadExecutor().execute(new GetCredit());
+    }
 
-        tvPrice.setText("$" + Price);
-        etFirstName.setText(customer.getCustFirstName());
-        etLastName.setText(customer.getCustLastName());
-        etAddress1.setText(customer.getCustAddress());
-        etPostal.setText(customer.getCustPostal());
-        etCity.setText(customer.getCustCity());
-        etCountry.setText(customer.getCustCountry());
-        etPhone.setText(customer.getCustBusPhone());
+    class GetCustomer implements Runnable {
+        @Override
+        public void run() {
+            StringBuffer buffer = new StringBuffer();
+            String url = "http://192.168.0.12:8081/OOSDTravelExperts/rs/agent/loginId/" + id;
+            StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {
+                @Override
+                public void onResponse(String response) {
+                    VolleyLog.wtf(response,"utf-8");
+
+                    try {
+//                        JSONArray jsonArray = new JSONArray(response);
+//                        JSONObject object = jsonArray.getJSONObject(0);
+
+                        JSONObject object = new JSONObject(response);
+                        Log.d("ehsan", "onResponse: " + object);
+
+                        customer = new Customer(object.getInt("customerId"), object.getString("custFirstName"),
+                                object.getString("custLastName"),object.getString("custAddress"), object.getString("custCity"),
+                                object.getString("custProv"), object.getString("custPostal"), object.getString("custCountry"),
+                                object.getString("custHomePhone"), object.getString("custBusPhone"), object.getString("custEmail"),
+                                object.getInt("points"), object.getString("password"));
+
+                        etFirstName.setText(customer.getCustFirstName());
+                        etLastName.setText(customer.getCustLastName());
+                        etAddress1.setText(customer.getCustAddress());
+                        etPostal.setText(customer.getCustPostal());
+                        etCity.setText(customer.getCustCity());
+                        etCountry.setText(customer.getCustCountry());
+                        etPhone.setText(customer.getCustBusPhone());
 
 
-    }
+                    } catch (JSONException e) {
+                        e.printStackTrace();
+                    }
 
-    class GetCredit implements Runnable {
-        @Override
-        public void run() {
+
+                }
+            }, new Response.ErrorListener() {
+                @Override
+                public void onErrorResponse(VolleyError error) {
+                    VolleyLog.wtf(error.getMessage(), "utf-8");
+                }
+            });
+
+            requestQueue.add(stringRequest);
 
-            StringBuffer buffer = new StringBuffer();
-            String url = "http://192.168.0.12:8081/JSPDay4JPA2/rs/agent/getcc/123";
-            StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {
+
+            // Credit Card
+
+            buffer = new StringBuffer();
+            url = "http://192.168.0.12:8081/OOSDTravelExperts/rs/agent/getcc/" + id;
+            stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {
                 @Override
                 public void onResponse(String response) {
                     VolleyLog.wtf(response,"utf-8");
@@ -118,6 +172,46 @@
             });
 
             requestQueue.add(stringRequest);
+
         }
     }
+
+//    class GetCredit implements Runnable {
+//        @Override
+//        public void run() {
+//
+//            StringBuffer buffer = new StringBuffer();
+//            String url = "http://192.168.0.12:8081/OOSDTravelExperts/rs/agent/getcc/" + id;
+//            StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {
+//                @Override
+//                public void onResponse(String response) {
+//                    VolleyLog.wtf(response,"utf-8");
+//
+//                    try{
+//
+//                        JSONArray jsonArray = new JSONArray(response);
+//                        JSONObject object = jsonArray.getJSONObject(0);
+//                        CreditCard cc = new CreditCard(object.getInt("creditCardId"),
+//                                object.getString("CCName"), object.getString("CCNumber"),
+//                                object.getString("CCExpiry"),object.getInt("customerId"));
+//
+//                        etCardName.setText(customer.getCustFirstName() + " " + customer.getCustLastName());
+//                        etCardNumber.setText(cc.getCcNumber());
+//                        etExpiry.setText(cc.getCcExpiry());
+//
+//                    } catch (JSONException e) {
+//                        e.printStackTrace();
+//                    }
+//
+//                }
+//            }, new Response.ErrorListener() {
+//                @Override
+//                public void onErrorResponse(VolleyError error) {
+//                    VolleyLog.wtf(error.getMessage(), "utf-8");
+//                }
+//            });
+//
+//            requestQueue.add(stringRequest);
+//        }
+//    }
 }
\ No newline at end of file
Index: app/src/main/java/Model/Package.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package Model;\r\n\r\nimport java.io.Serializable;\r\npublic class Package implements Serializable{\r\n\r\n    private int packageId;\r\n    private String pkgImageMain, pkgName, pkgCostDesc;\r\n    private String PkgCurrencyType, PkgBasePrice, PkgFamilyFriendly;\r\n    private String PkgFoodIncluded, PkgHotelIncluded , PkgDesc, PkgLongDesc;\r\n    private String PkgImageMap, PkgLocation, PkgImageHotel, PkgHotelDesc;\r\n    private String pkgFoodDesc ;\r\n\r\n    public Package(int packageId, String pkgName, String pkgImageMain, String pkgCostDesc) {\r\n        this.pkgImageMain = pkgImageMain;\r\n        this.pkgName = pkgName;\r\n        this.packageId = packageId;\r\n    }\r\n\r\n    public Package(int packageId, String pkgName) {\r\n        this.packageId = packageId;\r\n        this.pkgName = pkgName;\r\n    }\r\n\r\n    public int getPackageId() {\r\n        return packageId;\r\n    }\r\n\r\n    public void setPackageId(int packageId) {\r\n        this.packageId = packageId;\r\n    }\r\n\r\n    public String getPkgImageMain() {\r\n        return pkgImageMain;\r\n    }\r\n\r\n    public void setPkgImageMain(String pkgImageMain) {\r\n        this.pkgImageMain = pkgImageMain;\r\n    }\r\n\r\n    public String getPkgName() {\r\n        return pkgName;\r\n    }\r\n\r\n    public void setPkgName(String pkgName) {\r\n        this.pkgName = pkgName;\r\n    }\r\n\r\n    public String getPkgCostDesc() {\r\n        return pkgCostDesc;\r\n    }\r\n\r\n    public void setPkgCostDesc(String pkgCostDesc) {\r\n        this.pkgCostDesc = pkgCostDesc;\r\n    }\r\n\r\n    public String getPkgCurrencyType() {\r\n        return PkgCurrencyType;\r\n    }\r\n\r\n    public void setPkgCurrencyType(String pkgCurrencyType) {\r\n        PkgCurrencyType = pkgCurrencyType;\r\n    }\r\n\r\n    public String getPkgBasePrice() {\r\n        return PkgBasePrice;\r\n    }\r\n\r\n    public void setPkgBasePrice(String pkgBasePrice) {\r\n        PkgBasePrice = pkgBasePrice;\r\n    }\r\n\r\n    public String getPkgFamilyFriendly() {\r\n        return PkgFamilyFriendly;\r\n    }\r\n\r\n    public void setPkgFamilyFriendly(String pkgFamilyFriendly) {\r\n        PkgFamilyFriendly = pkgFamilyFriendly;\r\n    }\r\n\r\n    public String getPkgFoodIncluded() {\r\n        return PkgFoodIncluded;\r\n    }\r\n\r\n    public void setPkgFoodIncluded(String pkgFoodIncluded) {\r\n        PkgFoodIncluded = pkgFoodIncluded;\r\n    }\r\n\r\n    public String getPkgHotelIncluded() {\r\n        return PkgHotelIncluded;\r\n    }\r\n\r\n    public void setPkgHotelIncluded(String pkgHotelIncluded) {\r\n        PkgHotelIncluded = pkgHotelIncluded;\r\n    }\r\n\r\n    public String getPkgDesc() {\r\n        return PkgDesc;\r\n    }\r\n\r\n    public void setPkgDesc(String pkgDesc) {\r\n        PkgDesc = pkgDesc;\r\n    }\r\n\r\n    public String getPkgLongDesc() {\r\n        return PkgLongDesc;\r\n    }\r\n\r\n    public void setPkgLongDesc(String pkgLongDesc) {\r\n        PkgLongDesc = pkgLongDesc;\r\n    }\r\n\r\n    public String getPkgImageMap() {\r\n        return PkgImageMap;\r\n    }\r\n\r\n    public void setPkgImageMap(String pkgImageMap) {\r\n        PkgImageMap = pkgImageMap;\r\n    }\r\n\r\n    public String getPkgLocation() {\r\n        return PkgLocation;\r\n    }\r\n\r\n    public void setPkgLocation(String pkgLocation) {\r\n        PkgLocation = pkgLocation;\r\n    }\r\n\r\n    public String getPkgImageHotel() {\r\n        return PkgImageHotel;\r\n    }\r\n\r\n    public void setPkgImageHotel(String pkgImageHotel) {\r\n        PkgImageHotel = pkgImageHotel;\r\n    }\r\n\r\n    public String getPkgHotelDesc() {\r\n        return PkgHotelDesc;\r\n    }\r\n\r\n    public void setPkgHotelDesc(String pkgHotelDesc) {\r\n        PkgHotelDesc = pkgHotelDesc;\r\n    }\r\n\r\n    public String getPkgFoodDesc() {\r\n        return pkgFoodDesc;\r\n    }\r\n\r\n    public void setPkgFoodDesc(String pkgFoodDesc) {\r\n        this.pkgFoodDesc = pkgFoodDesc;\r\n    }\r\n\r\n    public String toString() {\r\n        return pkgName;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/Model/Package.java	(revision 91470f0831bf688827eca9478492a54824c992f2)
+++ app/src/main/java/Model/Package.java	(date 1603958957204)
@@ -1,14 +1,18 @@
 package Model;
 
 import java.io.Serializable;
+import java.sql.Date;
+
 public class Package implements Serializable{
 
     private int packageId;
     private String pkgImageMain, pkgName, pkgCostDesc;
-    private String PkgCurrencyType, PkgBasePrice, PkgFamilyFriendly;
+    private String PkgCurrencyType, PkgFamilyFriendly;
     private String PkgFoodIncluded, PkgHotelIncluded , PkgDesc, PkgLongDesc;
     private String PkgImageMap, PkgLocation, PkgImageHotel, PkgHotelDesc;
-    private String pkgFoodDesc ;
+    private String pkgFoodDesc;
+    private double PkgBasePrice, pkgAgencyCommission;
+    private String pkgStartDate, pkgEndDate;
 
     public Package(int packageId, String pkgName, String pkgImageMain, String pkgCostDesc) {
         this.pkgImageMain = pkgImageMain;
@@ -20,6 +24,15 @@
         this.packageId = packageId;
         this.pkgName = pkgName;
     }
+
+    public Package(int packageId, String pkgName, double pkgBasePrice, String pkgStartDate, String pkgEndDate, double pkgAgencyCommission) {
+        this.packageId = packageId;
+        this.pkgName = pkgName;
+        PkgBasePrice = pkgBasePrice;
+        this.pkgStartDate = pkgStartDate;
+        this.pkgEndDate = pkgEndDate;
+        this.pkgAgencyCommission = pkgAgencyCommission;
+    }
 
     public int getPackageId() {
         return packageId;
@@ -61,11 +74,11 @@
         PkgCurrencyType = pkgCurrencyType;
     }
 
-    public String getPkgBasePrice() {
+    public double getPkgBasePrice() {
         return PkgBasePrice;
     }
 
-    public void setPkgBasePrice(String pkgBasePrice) {
+    public void setPkgBasePrice(double pkgBasePrice) {
         PkgBasePrice = pkgBasePrice;
     }
 
@@ -152,4 +165,28 @@
     public String toString() {
         return pkgName;
     }
+
+    public String getPkgStartDate() {
+        return pkgStartDate;
+    }
+
+    public void setPkgStartDate(String pkgStartDate) {
+        this.pkgStartDate = pkgStartDate;
+    }
+
+    public String getPkgEndDate() {
+        return pkgEndDate;
+    }
+
+    public void setPkgEndDate(String pkgEndDate) {
+        this.pkgEndDate = pkgEndDate;
+    }
+
+    public double getPkgAgencyCommission() {
+        return pkgAgencyCommission;
+    }
+
+    public void setPkgAgencyCommission(double pkgAgencyCommission) {
+        this.pkgAgencyCommission = pkgAgencyCommission;
+    }
 }
Index: app/src/main/java/org/ehsan/travelexpertsoosd/LoginActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.ehsan.travelexpertsoosd;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.VolleyLog;\r\nimport com.android.volley.toolbox.JsonObjectRequest;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport java.util.concurrent.Executors;\r\n\r\nimport java.net.URL;\r\nimport java.net.URLConnection;\r\nimport java.util.ArrayList;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nimport Model.Customer;\r\n\r\nimport static org.ehsan.travelexpertsoosd.Validator.isValidEmailNoAlert;\r\nimport static org.ehsan.travelexpertsoosd.Validator.isValidPassword;\r\n\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n    SharedPreferences pref;\r\n    Intent intent;\r\n    View view;\r\n    EditText txt_email, txt_password;\r\n    ImageView img_login;\r\n    Button btn_submit;\r\n    TextView lbl_email, lbl_password;\r\n    RequestQueue requestQueue;\r\n    String email;\r\n    String password;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        pref = getSharedPreferences(\"user_details\", MODE_PRIVATE);\r\n        intent = new Intent(LoginActivity.this, ProfileMainActivity.class);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        requestQueue = Volley.newRequestQueue(this);\r\n\r\n        img_login = findViewById(R.id.img_login);\r\n        txt_email = findViewById(R.id.txt_email);\r\n        txt_password = findViewById(R.id.txt_password);\r\n        btn_submit = findViewById(R.id.btn_submit);\r\n        lbl_email = findViewById(R.id.lbl_email);\r\n        lbl_password = findViewById(R.id.lbl_password);\r\n\r\n        img_login.setImageResource(R.drawable.icon_sleepyowl);\r\n\r\n        btn_submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                email = txt_email.getText().toString();\r\n                password = txt_password.getText().toString();\r\n\r\n                //\r\n                if (email.isEmpty()) { //checks if email is empty\r\n                    lbl_email.setText(\"Email * required field *\");\r\n                    lbl_email.setTextColor(Color.RED);\r\n                } else if (!isValidEmailNoAlert(email)) { //checks if email is valid\r\n                    lbl_email.setText(\"Email * invalid email *\");\r\n                    lbl_email.setTextColor(Color.RED);\r\n                } else {\r\n                    if (password.isEmpty()) { //checks if password is empty\r\n                        lbl_password.setText(\"Password *required field *\");\r\n                        lbl_password.setTextColor(Color.RED);\r\n                    } else if (!isValidPassword(password)) { //checks if password is valid\r\n                        lbl_password.setText(\"Password * invalid password *\");\r\n                        lbl_password.setTextColor(Color.RED);\r\n                    } else {\r\n                        //else, email and password are valid\r\n                        Executors.newSingleThreadExecutor().execute(new getCustomer(email));\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    class getCustomer implements Runnable{\r\n        private String validEmail;\r\n\r\n        public getCustomer(String validEmail) {\r\n            this.validEmail = validEmail;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            //retrieve JSON data from REST service into StringBuffer\r\n            StringBuffer buffer = new StringBuffer();\r\n            //String url = \"http:/192.168.0.17:8081/JSPDay4RESTJPAExample/rs/agent/getagent/\" + packageId;\r\n            String url = \"http://192.168.133.1:8080/TravelExpertsOOSDJSP/rs/packagesalberta/LoginEmail/\" + validEmail;\r\n            Log.d(\"crystal\", \"Auth: \" + url);\r\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {\r\n                @Override\r\n                public void onResponse(String response) {\r\n                    VolleyLog.wtf(response, \"utf-8\");\r\n                    //convert JSON data from response string into an Agent\r\n                    //create a json array to recieve the response- loop through it to make it into an object\r\n\r\n                    String emailfromUrl = \"\";\r\n                    String passwordfromUrl = \"\";\r\n                    int idfromUrl = 0;\r\n\r\n                    JSONObject pkg = null;\r\n                    JSONArray customerResponse = null;\r\n                    try {\r\n                        customerResponse = new JSONArray(response);\r\n                        if(customerResponse.isNull(0)){\r\n\r\n                        } else {\r\n                            pkg = customerResponse.getJSONObject(0);\r\n//                            String emailfromUrl =\"\";\r\n//                            String passwordfromUrl = \"\";\r\n                            idfromUrl = pkg.getInt(\"CustomerId\");\r\n                            emailfromUrl = pkg.getString(\"custEmail\");\r\n                            passwordfromUrl = pkg.getString(\"Password\");\r\n                        }\r\n                    } catch (JSONException e){\r\n                        e.printStackTrace();\r\n                    }\r\n                    //update ListView with the adapter of Agents\r\n//                    final JSONObject finalPkg = pkg;\r\n                        final String customerEmail = emailfromUrl;\r\n                        final String customerPassword = passwordfromUrl;\r\n                        final int customerid = idfromUrl;\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                                String intstring = String.valueOf(customerid);\r\n                                Log.d(\"crystalidtest\", intstring);\r\n                                Log.d(\"crystalemailtest\" , customerEmail);\r\n                                Log.d(\"crystalpasswordtest\" , customerPassword);\r\n\r\n                                if(email.equals(customerEmail)  && password.equals(customerPassword)){\r\n                                    // allows login\r\n//                                    if (pref.contains(\"email\") && pref.contains(\"password\")){\r\n//\r\n//                                    }\r\n                                    SharedPreferences.Editor editor = pref.edit();\r\n                                    editor.putInt(\"id\", customerid);\r\n                                    editor.commit();\r\n                                    startActivity(intent);\r\n                                    //redirect\r\n\r\n                                    Log.d(\"successlogin\", \"login successfull\");\r\n                                } else {\r\n                                    //failure case - some sort of message\r\n                                    lbl_password.setText(\"Password * invalid password *\");\r\n                                    lbl_password.setTextColor(Color.RED);\r\n\r\n                                    lbl_email.setText(\"Email * invalid email *\");\r\n                                    lbl_email.setTextColor(Color.RED);\r\n                                }\r\n                        }\r\n                    });\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    VolleyLog.wtf(error.getMessage(), \"utf-8\");\r\n                }\r\n            });\r\n\r\n            requestQueue.add(stringRequest);\r\n        }\r\n    }\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/org/ehsan/travelexpertsoosd/LoginActivity.java	(revision 91470f0831bf688827eca9478492a54824c992f2)
+++ app/src/main/java/org/ehsan/travelexpertsoosd/LoginActivity.java	(date 1603958957212)
@@ -36,6 +36,7 @@
 import java.util.regex.Matcher;
 import java.util.regex.Pattern;
 
+import Model.CreditCard;
 import Model.Customer;
 
 import static org.ehsan.travelexpertsoosd.Validator.isValidEmailNoAlert;
@@ -57,7 +58,7 @@
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         pref = getSharedPreferences("user_details", MODE_PRIVATE);
-        intent = new Intent(LoginActivity.this, ProfileMainActivity.class);
+        intent = new Intent(LoginActivity.this, PackageSelectActivity.class);
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_login);
 
@@ -114,7 +115,8 @@
             //retrieve JSON data from REST service into StringBuffer
             StringBuffer buffer = new StringBuffer();
             //String url = "http:/192.168.0.17:8081/JSPDay4RESTJPAExample/rs/agent/getagent/" + packageId;
-            String url = "http://192.168.133.1:8080/TravelExpertsOOSDJSP/rs/packagesalberta/LoginEmail/" + validEmail;
+            //String url = "http://192.168.133.1:8080/TravelExpertsOOSDJSP/rs/packagesalberta/LoginEmail/" + validEmail;
+            String url = "http://192.168.0.12:8081/OOSDTravelExperts/rs/agent/LoginEmail/" + validEmail; //For Ehsans Testing
             Log.d("crystal", "Auth: " + url);
             StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {
                 @Override
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"org.ehsan.travelexpertsoosd\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\"\r\n        android:usesCleartextTraffic=\"true\">\r\n        <activity android:name=\".SearchActivity\"></activity>\r\n        <activity android:name=\".ProfileMainActivity\"/>\r\n        <activity android:name=\".PackageBookActivity2\" />\r\n        <activity android:name=\".LoginActivity\" />\r\n        <activity android:name=\".RegisterActivity\" />\r\n        <activity android:name=\".RewardsActivity\"></activity>\r\n        <activity android:name=\".ProfileMainActivity\" />\r\n        <activity android:name=\".ProfileEditActivity\" />\r\n        <activity\r\n            android:name=\".CreditCardActivity\"\r\n            android:label=\"@string/title_activity_credit_card\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\"\r\n            android:parentActivityName=\".CheckoutActivity\">\r\n        </activity>\r\n        <activity android:name=\".PackageSelectActivity\" />\r\n        <activity android:name=\".CheckoutActivity\"\r\n            android:parentActivityName=\".PackageSelectActivity\">\r\n        </activity>\r\n        <activity android:name=\".MainActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 91470f0831bf688827eca9478492a54824c992f2)
+++ app/src/main/AndroidManifest.xml	(date 1603958957179)
@@ -19,7 +19,6 @@
         <activity android:name=".LoginActivity" />
         <activity android:name=".RegisterActivity" />
         <activity android:name=".RewardsActivity"></activity>
-        <activity android:name=".ProfileMainActivity" />
         <activity android:name=".ProfileEditActivity" />
         <activity
             android:name=".CreditCardActivity"
Index: app/src/main/java/org/ehsan/travelexpertsoosd/CheckoutActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.ehsan.travelexpertsoosd;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.format.DateFormat;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.Currency;\r\nimport java.util.Date;\r\n\r\npublic class CheckoutActivity extends AppCompatActivity {\r\n\r\n    String city = \"Banff\";\r\n    Date tripStart = Calendar.getInstance().getTime();\r\n    Date tripEnd = Calendar.getInstance().getTime();\r\n    String pckge = \"One of the packages\";\r\n    int qty = 1;\r\n    double price = 230.00;\r\n    double GST;\r\n    double total;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_checkout);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n        getSupportActionBar().setTitle(\"Checkout\");\r\n\r\n        java.text.DateFormat dateFormat = DateFormat.getMediumDateFormat(getApplicationContext());\r\n\r\n        TextView tvCity = findViewById(R.id.tvCity);\r\n        TextView tvTripDate = findViewById(R.id.tvTripDate);\r\n        TextView tvPackage = findViewById(R.id.tvPackage);\r\n        TextView tvQuantity = findViewById(R.id.tvQuantity);\r\n        TextView tvPrice = findViewById(R.id.tvPrice);\r\n        TextView tvGST = findViewById(R.id.tvGST);\r\n        TextView tvTotal = findViewById(R.id.tvTotal);\r\n        Button btnPay = findViewById(R.id.btnPay);\r\n\r\n        String tripDate = dateFormat.format(tripStart) + \" - \" + dateFormat.format(tripEnd);\r\n        GST = price * 0.05;\r\n        total = price + GST;\r\n\r\n        tvCity.setText(city);\r\n        tvTripDate.setText(tripDate);\r\n        tvPackage.setText(pckge);\r\n        tvQuantity.setText(String.valueOf(qty));\r\n        tvPrice.setText(\"$\" + String.valueOf(price));\r\n        tvGST.setText(\"$\" + String.valueOf(GST));\r\n        tvTotal.setText(\"$\" + String.valueOf(total));\r\n\r\n        btnPay.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getApplicationContext(), CreditCardActivity.class);\r\n                //lvPictures.setAdapter(adapter);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/org/ehsan/travelexpertsoosd/CheckoutActivity.java	(revision 91470f0831bf688827eca9478492a54824c992f2)
+++ app/src/main/java/org/ehsan/travelexpertsoosd/CheckoutActivity.java	(date 1603958957218)
@@ -7,22 +7,25 @@
 import android.text.format.DateFormat;
 import android.view.View;
 import android.widget.Button;
+import android.widget.NumberPicker;
 import android.widget.TextView;
 
 import java.util.Calendar;
 import java.util.Currency;
 import java.util.Date;
 
+import Model.Package;
+
 public class CheckoutActivity extends AppCompatActivity {
 
-    String city = "Banff";
-    Date tripStart = Calendar.getInstance().getTime();
-    Date tripEnd = Calendar.getInstance().getTime();
-    String pckge = "One of the packages";
-    int qty = 1;
-    double price = 230.00;
-    double GST;
-    double total;
+    private String packageName;
+    private String tripStart;
+    private String tripEnd;
+    private double price;
+    private double GST;
+    private double total;
+    private int qty;
+    private Package checkoutPackage;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
@@ -32,25 +35,51 @@
         getSupportActionBar().setDisplayShowHomeEnabled(true);
         getSupportActionBar().setTitle("Checkout");
 
-        java.text.DateFormat dateFormat = DateFormat.getMediumDateFormat(getApplicationContext());
+        Intent intent = getIntent();
+        //this is the package that was passed from the PackageSelect activity
+        checkoutPackage = (Package) intent.getSerializableExtra("passedObject");
+
+        packageName = checkoutPackage.getPkgName();
+        tripStart = checkoutPackage.getPkgStartDate();
+        tripEnd = checkoutPackage.getPkgEndDate();
+
+//        java.text.DateFormat dateFormat = DateFormat.getMediumDateFormat(getApplicationContext());
 
         TextView tvCity = findViewById(R.id.tvCity);
         TextView tvTripDate = findViewById(R.id.tvTripDate);
         TextView tvPackage = findViewById(R.id.tvPackage);
-        TextView tvQuantity = findViewById(R.id.tvQuantity);
-        TextView tvPrice = findViewById(R.id.tvPrice);
-        TextView tvGST = findViewById(R.id.tvGST);
-        TextView tvTotal = findViewById(R.id.tvTotal);
-        Button btnPay = findViewById(R.id.btnPay);
+        final NumberPicker npQty = findViewById(R.id.npQty);
+        final TextView tvPrice = findViewById(R.id.tvPrice);
+        final TextView tvGST = findViewById(R.id.tvGST);
+        final TextView tvTotal = findViewById(R.id.tvTotal);
+        final Button btnPay = findViewById(R.id.btnPay);
+
+        String tripDate = tripStart + " - " + tripEnd;
+        price = checkoutPackage.getPkgBasePrice() + checkoutPackage.getPkgAgencyCommission();
+        GST = price * 0.05;
+        total = price + GST;
+        qty = npQty.getValue();
 
-        String tripDate = dateFormat.format(tripStart) + " - " + dateFormat.format(tripEnd);
-        GST = price * 0.05;
-        total = price + GST;
+        npQty.setMaxValue(4);
+        npQty.setMinValue(1);
+
+        npQty.setOnValueChangedListener(new NumberPicker.OnValueChangeListener() {
+            @Override
+            public void onValueChange(NumberPicker picker, int oldVal, int newVal) {
+                qty = npQty.getValue();
+                price = (checkoutPackage.getPkgBasePrice() + checkoutPackage.getPkgAgencyCommission()) * qty;
+                GST = price * 0.05;
+                total = price + GST;
 
-        tvCity.setText(city);
+                tvPrice.setText("$" + String.valueOf(price));
+                tvGST.setText("$" + String.valueOf(GST));
+                tvTotal.setText("$" + String.valueOf(total));
+            }
+        });
+
+        tvCity.setText(packageName);
         tvTripDate.setText(tripDate);
-        tvPackage.setText(pckge);
-        tvQuantity.setText(String.valueOf(qty));
+        tvPackage.setText("pckge");
         tvPrice.setText("$" + String.valueOf(price));
         tvGST.setText("$" + String.valueOf(GST));
         tvTotal.setText("$" + String.valueOf(total));
@@ -59,7 +88,8 @@
             @Override
             public void onClick(View v) {
                 Intent intent = new Intent(getApplicationContext(), CreditCardActivity.class);
-                //lvPictures.setAdapter(adapter);
+                intent.putExtra("Total", total);
+                intent.putExtra("passedObject", checkoutPackage);
                 startActivity(intent);
             }
         });
Index: app/src/main/res/layout/activity_checkout.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:backgroundTint=\"@android:color/holo_blue_bright\"\r\n    tools:context=\".CheckoutActivity\">\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/linearLayout\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:background=\"@color/profile_background\"\r\n        android:orientation=\"vertical\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/linearLayout2\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.666\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvCity\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"37dp\"\r\n            android:background=\"@color/LightBlue\"\r\n            android:text=\"City\"\r\n            android:textAlignment=\"center\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvTripDate\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"37dp\"\r\n            android:background=\"@color/LightBlue\"\r\n            android:text=\"TripDate\"\r\n            android:textAlignment=\"center\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvPackage\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"37dp\"\r\n            android:background=\"@color/LightBlue\"\r\n            android:text=\"Package\"\r\n            android:textAlignment=\"center\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvQuantity\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"37dp\"\r\n            android:background=\"@color/LightBlue\"\r\n            android:text=\"Qty\"\r\n            android:textAlignment=\"center\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n    </LinearLayout>\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/linearLayout2\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"118dp\"\r\n        android:orientation=\"vertical\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/linearLayout3\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/linearLayout\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvPrice\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"37dp\"\r\n            android:background=\"@color/LightBlue\"\r\n            android:text=\"Price\"\r\n            android:textAlignment=\"textEnd\"\r\n            android:textColor=\"@color/colorPrimaryDark\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvGST\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"37dp\"\r\n            android:background=\"@color/LightBlue\"\r\n            android:text=\"GST\"\r\n            android:textAlignment=\"textEnd\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvTotal\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"57dp\"\r\n            android:background=\"@color/LightBlue\"\r\n            android:text=\"Total\"\r\n            android:textAlignment=\"textEnd\"\r\n            android:textColor=\"@android:color/holo_red_dark\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n    </LinearLayout>\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/linearLayout3\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"105dp\"\r\n        android:orientation=\"vertical\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/linearLayout2\">\r\n\r\n        <Button\r\n            android:id=\"@+id/btnPay\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"109dp\"\r\n            android:background=\"@color/profile_background\"\r\n            android:backgroundTint=\"@android:color/holo_orange_light\"\r\n            android:text=\"Pay Now\"\r\n            android:textStyle=\"bold\" />\r\n    </LinearLayout>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_checkout.xml	(revision 91470f0831bf688827eca9478492a54824c992f2)
+++ app/src/main/res/layout/activity_checkout.xml	(date 1603958957186)
@@ -49,13 +49,11 @@
             android:textSize="18sp"
             android:textStyle="bold" />
 
-        <TextView
-            android:id="@+id/tvQuantity"
+        <NumberPicker
+            android:id="@+id/npQty"
             android:layout_width="match_parent"
-            android:layout_height="37dp"
+            android:layout_height="51dp"
             android:background="@color/LightBlue"
-            android:text="Qty"
-            android:textAlignment="center"
             android:textSize="18sp"
             android:textStyle="bold" />
 
Index: app/src/main/java/org/ehsan/travelexpertsoosd/PackageBookActivity2.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.ehsan.travelexpertsoosd;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.cardview.widget.CardView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.VolleyLog;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\nimport org.w3c.dom.Text;\r\n\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\nimport java.util.concurrent.Executors;\r\n\r\nimport Model.Package;\r\n\r\npublic class PackageBookActivity2 extends AppCompatActivity {\r\n\r\n    Package checkoutPackage;\r\n    ImageView ivPackageBook, ivPackageMap, ivHotel;\r\n    ImageButton imgBtnBack;\r\n    TextView tvPackageBookPgkName, tvPackageCostDesc, tvCost, tvFamilyFriendly, tvFoodIncluded, tvAbout;\r\n    TextView tvLongDesc, tvLocation, tvCostFinal, tvHotelDetails;\r\n    RequestQueue requestQueue;\r\n    Package listViewPackage;\r\n    CardView cvHotel;\r\n    Button btnBookNow;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_package_book2);\r\n        requestQueue = Volley.newRequestQueue(this);\r\n        ivPackageBook = findViewById(R.id.ivPackageBook);\r\n        tvPackageBookPgkName = findViewById(R.id.tvPackageBookPgkName);\r\n        tvPackageCostDesc = findViewById(R.id.tvCostDescription);\r\n        tvCost = findViewById(R.id.tvCost);\r\n        tvFamilyFriendly = findViewById(R.id.tvFamilyFriendly);\r\n        tvFoodIncluded = findViewById(R.id.tvFoodIncluded);\r\n        tvAbout = findViewById(R.id.tvAbout);\r\n        tvLongDesc = findViewById(R.id.tvDescription);\r\n        ivPackageMap = findViewById(R.id.ivPackageMap);\r\n        tvLocation = findViewById(R.id.tvLocation);\r\n        tvCostFinal = findViewById(R.id.tvCostFinal);\r\n        ivHotel = findViewById(R.id.ivHotel);\r\n        cvHotel = findViewById(R.id.cvHotel);\r\n        cvHotel.setVisibility(View.GONE);\r\n        btnBookNow = findViewById(R.id.btnBookNow);\r\n        tvHotelDetails = findViewById(R.id.tvHotelDetails);\r\n\r\n        Intent intent = getIntent();\r\n        //this is the package that was passed from the PackageSelect activity\r\n        Package newPackage = (Package) intent.getSerializableExtra(\"packagePassed\");\r\n\r\n        Executors.newSingleThreadExecutor().execute(new GetPackage(newPackage.getPackageId()));\r\n\r\n        btnBookNow.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getApplicationContext(), CheckoutActivity.class);\r\n                //pass the select package object to the checkout page\r\n                intent.putExtra(\"passedObject\", checkoutPackage );\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n        //ivPackageBook.setImageResource(res_image);\r\n        //tvPackageBookPgkName.setText(newPackage.getPkgName());\r\n        //int res_image = newPackage.getPkgImageMain();\r\n        //Bundle bundle = getIntent().getExtras();\r\n        //if (bundle!=null) {\r\n            //int res_image = bundle.getInt(\"imageNew\");\r\n            //ivPackageBook.setImageResource(res_image);\r\n        //}\r\n\r\n        ImageButton imgBtn = (ImageButton)findViewById(R.id.imgBtnBack);\r\n        imgBtn.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n    class GetPackage implements Runnable {\r\n        private int packageId;\r\n\r\n        public GetPackage(int packageId) {\r\n            this.packageId = packageId;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            //retrieve JSON data from REST service into StringBuffer\r\n            StringBuffer buffer = new StringBuffer();\r\n            //String url = \"http:/192.168.0.17:8081/JSPDay4RESTJPAExample/rs/agent/getagent/\" + packageId;\r\n            String url = \"http://192.168.0.17:8081/TravelExpertsOOSDJSP2/rs/packagesalberta/getpackage/\" + packageId;\r\n\r\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {\r\n                @Override\r\n                public void onResponse(String response) {\r\n                    VolleyLog.wtf(response, \"utf-8\");\r\n\r\n                    //convert JSON data from response string into an Agent\r\n                    JSONObject pkg = null;\r\n                    try {\r\n                        pkg = new JSONObject(response);\r\n                        checkoutPackage = new Package(pkg.getInt(\"packageId\"),pkg.getString(\"pkgName\"));\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    //update ListView with the adapter of Agents\r\n                    final JSONObject finalPkg = pkg;\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            try {\r\n                                tvPackageBookPgkName.setText(finalPkg.getString(\"pkgName\") + \"\");\r\n                                String mainimageName = finalPkg.getString(\"pkgImageMain\");\r\n                                int imageMainId = getResources().getIdentifier(mainimageName, \"drawable\", getPackageName());\r\n                                ivPackageBook.setImageResource(imageMainId);\r\n                                tvPackageCostDesc.setText(finalPkg.getString(\"pkgCostDesc\") + \"\");\r\n\r\n                                //format the double number from database into currency format\r\n                                NumberFormat format = NumberFormat.getCurrencyInstance(Locale.CANADA);\r\n                                String currencyNumber = format.format(finalPkg.getDouble(\"pkgBasePrice\"));\r\n                                tvCost.setText(finalPkg.getString(\"pkgCurrencyType\") + \" \" +  currencyNumber  );\r\n\r\n                                tvFamilyFriendly.setText(finalPkg.getString(\"pkgFamilyFriendly\"));\r\n                                tvFoodIncluded.setText(finalPkg.getString(\"pkgFoodIncluded\"));\r\n                                tvAbout.setText((finalPkg.getString(\"pkgDesc\")));\r\n                                tvLongDesc.setText(finalPkg.getString(\"pkgLongDesc\"));\r\n\r\n                                String mainimageMap = finalPkg.getString(\"pkgImageMap\");\r\n                                int imageMapId = getResources().getIdentifier(mainimageMap, \"drawable\", getPackageName());\r\n                                ivPackageMap.setImageResource(imageMapId);\r\n\r\n                                tvLocation.setText(finalPkg.getString(\"pkgLocation\"));\r\n                                tvCostFinal.setText(finalPkg.getString(\"pkgCurrencyType\") + \" \" +  currencyNumber  );\r\n\r\n                                String imageHotel = finalPkg.getString(\"pkgImageHotel\");\r\n\r\n                                //Log.d(\"doug\", \"RESOURCE: \" + imageHotel);\r\n                                int imageHotelId = getResources().getIdentifier(imageHotel, \"drawable\", getPackageName());\r\n                                //Log.d(\"doug\", \"RESOURCE: \" + imageHotelId);\r\n\r\n                                if (imageHotelId != 0) {\r\n                                    cvHotel.setVisibility(View.VISIBLE);\r\n                                    ivHotel.setImageResource(imageHotelId);\r\n                                    tvHotelDetails.setText(finalPkg.getString(\"pkgHotelDesc\"));\r\n                                }\r\n\r\n\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    VolleyLog.wtf(error.getMessage(), \"utf-8\");\r\n                }\r\n            });\r\n\r\n            requestQueue.add(stringRequest);\r\n        }\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/org/ehsan/travelexpertsoosd/PackageBookActivity2.java	(revision 91470f0831bf688827eca9478492a54824c992f2)
+++ app/src/main/java/org/ehsan/travelexpertsoosd/PackageBookActivity2.java	(date 1603958957224)
@@ -24,7 +24,9 @@
 import org.json.JSONObject;
 import org.w3c.dom.Text;
 
+import java.sql.Date;
 import java.text.NumberFormat;
+import java.text.SimpleDateFormat;
 import java.util.Locale;
 import java.util.concurrent.Executors;
 
@@ -112,7 +114,8 @@
             //retrieve JSON data from REST service into StringBuffer
             StringBuffer buffer = new StringBuffer();
             //String url = "http:/192.168.0.17:8081/JSPDay4RESTJPAExample/rs/agent/getagent/" + packageId;
-            String url = "http://192.168.0.17:8081/TravelExpertsOOSDJSP2/rs/packagesalberta/getpackage/" + packageId;
+//            String url = "http://192.168.0.17:8081/TravelExpertsOOSDJSP2/rs/packagesalberta/getpackage/" + packageId;
+            String url = "http://192.168.0.12:8081/OOSDTravelExperts/rs/agent/getpackage/" + packageId; //For Ehsans Testing
 
             StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {
                 @Override
@@ -123,7 +126,9 @@
                     JSONObject pkg = null;
                     try {
                         pkg = new JSONObject(response);
-                        checkoutPackage = new Package(pkg.getInt("packageId"),pkg.getString("pkgName"));
+                        checkoutPackage = new Package(pkg.getInt("packageId"),pkg.getString("pkgName"),
+                                pkg.getDouble("pkgBasePrice"), pkg.getString("pkgStartDate"), pkg.getString("pkgEndDate"),
+                                pkg.getDouble("pkgAgencyCommission"));
 
                     } catch (JSONException e) {
                         e.printStackTrace();
Index: app/src/main/java/org/ehsan/travelexpertsoosd/PackageSelectActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.ehsan.travelexpertsoosd;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.lifecycle.ViewModelStore;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.SimpleAdapter;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.VolleyLog;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.concurrent.Executors;\r\n\r\nimport Model.Package;\r\n\r\n\r\n\r\npublic class PackageSelectActivity extends AppCompatActivity {\r\n\r\n    ListView lvPackageSelect;\r\n    ArrayList<Package> imagesList;\r\n    RequestQueue requestQueue;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_package_select);\r\n        requestQueue = Volley.newRequestQueue(this);\r\n        lvPackageSelect = findViewById(R.id.lvPackageSelect);\r\n        /*String [] from = { \"imgName\" };\r\n        int [] to = {R.id.ivPackagePicDisplay};\r\n        SimpleAdapter adapter = new SimpleAdapter(this, loadData(),R.layout.package_pic_display, from, to);\r\n\r\n        lvPackageSelect.setAdapter(adapter);*/\r\n\r\n        Executors.newSingleThreadExecutor().execute(new GetPackages());\r\n        lvPackageSelect.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {\r\n\r\n                Package packageNew = (Package) lvPackageSelect.getAdapter().getItem(position);\r\n                Intent intent = new Intent(getApplicationContext(), PackageBookActivity2.class);\r\n                //Package packageNew = imagesList.get(position);\r\n                intent.putExtra(\"packagePassed\", packageNew);\r\n                //int newResID = item.getPkgImageMain();\r\n                //intent.putExtra(\"imageNew\",newResID);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n/*    private ArrayList loadData() {\r\n\r\n        //create some courses to display in the listview\r\n        String pictureName1 = \"drumheller\";\r\n        String pictureName2 = \"waterton\";\r\n        String pictureName3 = \"package3\";\r\n        int resID1 = getResources().getIdentifier(pictureName1, \"drawable\", getPackageName());\r\n        int resID2 = getResources().getIdentifier(pictureName2, \"drawable\", getPackageName());\r\n        int resID3 = getResources().getIdentifier(pictureName3, \"drawable\", getPackageName());\r\n        Log.d(\"harv\", \"RESOURCE: \" + resID1);\r\n\r\n        //read the packages\r\n        imagesList = new ArrayList<>();\r\n        imagesList.add( new Package(resID1,\"Drumheller\"));\r\n        imagesList.add( new Package(resID2, \"Weekend in Waterton\"));\r\n        imagesList.add( new Package(resID3, \"Banff\"));\r\n        //read with a service call\r\n\r\n        //Set up arraylist to map each course to the listview items\r\n        ArrayList<HashMap<String, Integer>> data = new ArrayList<>();\r\n        for (Package p : imagesList)\r\n        {\r\n            HashMap<String, Integer> map = new HashMap<>();\r\n            map.put(\"imgName\", p.getPkgImageMain());\r\n            data.add(map);\r\n\r\n        }\r\n        return  data;\r\n    }*/\r\n\r\n//this class reads the data from database and displays\r\n//the package tostring\r\n    class GetPackages implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        //retrieve JSON data from REST service into StringBuffer\r\n        StringBuffer buffer = new StringBuffer();\r\n        //String url = \"http://192.168.0.23:8082/JSPDay4RESTJPAExample/rs/agent/getagentlist\";\r\n        String url = \"http://192.168.0.17:8081/TravelExpertsOOSDJSP2/rs/packagesalberta/getpackagelist\";\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                VolleyLog.wtf(response, \"utf-8\");\r\n\r\n                //convert JSON data from response string into an ArrayAdapter of Agents\r\n                ArrayAdapter<Package> adapter = new ArrayAdapter<>(getApplicationContext(), android.R.layout.simple_list_item_1);\r\n                //ArrayAdapter<Package> adapter = new ArrayAdapter<>(getApplicationContext(), android.R.layout.simple_list_item_1);\r\n                try {\r\n                    JSONArray jsonArray = new JSONArray(response);\r\n                    for (int i=0; i<jsonArray.length(); i++)\r\n                    {\r\n                        JSONObject pkg = jsonArray.getJSONObject(i);\r\n\r\n                        Package aPackage = new Package(pkg.getInt(\"PackageId\"), pkg.getString(\"PkgName\")                                  );\r\n                        adapter.add(aPackage);\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                //update ListView with the adapter of Agents\r\n                final ArrayAdapter<Package> finalAdapter = adapter;\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        lvPackageSelect.setAdapter(finalAdapter);\r\n                    }\r\n                });\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                VolleyLog.wtf(error.getMessage(), \"utf-8\");\r\n            }\r\n        });\r\n\r\n        requestQueue.add(stringRequest);\r\n    }\r\n}\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/org/ehsan/travelexpertsoosd/PackageSelectActivity.java	(revision 91470f0831bf688827eca9478492a54824c992f2)
+++ app/src/main/java/org/ehsan/travelexpertsoosd/PackageSelectActivity.java	(date 1603958957192)
@@ -103,7 +103,8 @@
         //retrieve JSON data from REST service into StringBuffer
         StringBuffer buffer = new StringBuffer();
         //String url = "http://192.168.0.23:8082/JSPDay4RESTJPAExample/rs/agent/getagentlist";
-        String url = "http://192.168.0.17:8081/TravelExpertsOOSDJSP2/rs/packagesalberta/getpackagelist";
+//        String url = "http://192.168.0.17:8081/TravelExpertsOOSDJSP2/rs/packagesalberta/getpackagelist";
+        String url = "http://192.168.0.12:8081/OOSDTravelExperts/rs/agent/getpackagelist"; //For Ehsans Testing
 
         StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener<String>() {
             @Override
